---
title: Live2D Cubism 3.3制作Facerig模型踩坑记录
date: 2019-07-27 08:33:54
categories:
- 其他
tags:
- Live2D
- Facerig
---
最近受委托帮某即将出道的VUP调教虚拟形象的模型，以下记录了我在制作Live2D模型时踩过的坑，希望能对你有所帮助。

<!--more-->

## 1 千万不要只看官方英语教程

我看不懂日语，所以在官网下了英文版Live2D Cubism。初次启动后弹出教程链接，当时我也没多想就去油管学了一遍。后来画师把原画传过来，我因为她没画眼皮和她争执了半天。她把她在B站看的教程[链接](https://www.bilibili.com/video/av12529871/)发来，我才知道日文版和英文版教程所用模型差别那么大，放张图你们感受下：

{% asset_img img 1.png 对比 %}

两个教程都是Live2D官方出的，使用不同模型大概是为了符合国情（雾）总之英文版教程所用的模型比日文版粗糙很多，而且鉴于虚拟形象大多与日文版相似，想学Live2D还是推荐看日文版教程。而且B站搬运的版本是经过翻译的，还不用翻墙，好得很。

值得注意的是，B站上的版本是3.0，而官网现在能下到的是3.3版本，虽然版本号不一样但操作基本相同，至少我自己看时没发现什么问题。此外，日文版的示例模型在官网上不能免费下载，而英文版的可以，想要练手还是得和那个烂模型打交道……如果有途径弄到更精细的自然更好。

## 2 自动创建网格后有一部分缺失并提示mesh is open怎么办？

点击自动创建网格（automatic mesh generator）并选择standard预设之后，可能出现一部分缺失并伴有右下角红色框提示mesh is open的情况。这时只要分开创建网格就好。先记下缺失的部分，撤销网格创建操作，然后选择刚才没缺失的部分自动创建，再选择缺失部分创建，就可以正常生成网格了。

## 3 如果原画的嘴是打开的，怎么套用模板？

为了省事，一般都会套用标有Facerig字样的模板，然而这些模板的嘴默认是闭上的。如果原画的嘴是打开的，千万不要用变形工具把嘴调成关闭，实测这样套用模板后打开的状态将出现失真，还是要手动调整。

最方便的做法是，在套用模板界面将嘴唇、口腔等部件与关闭状态的模板部件绑定（以便在设置转头、摇头等其他参数时把嘴包括在内），然后确认模板，返回模型界面，选择“Mouth Form”和“Mouth Open”两个参数，删除其所有白点。现在选定全部嘴巴部件，对“Mouth Open”创建两个关键帧（add 2 keyforms）。由于原画是张嘴，右边（代表张嘴的）关键帧就不用调整，只需把滑块拉到左边（代表闭嘴的）关键帧，操纵变形工具把嘴调到闭上状态就可以了。

对“Mouth Form”参数，选定两片嘴唇，创建三个关键帧，在“Mouth Open”滑块调到左边的情况下，沿着嘴的曲线创建Deform Path。左右关键帧分别表示撅嘴和笑，中间关键帧代表中性位。为了增强美观，中间关键帧也要有点弧度。闭嘴状态调整好后，将“Mouth Open”滑块调到右边，操纵Deform Path Tool给嘴角一点上扬弧度，可以显得更加自然。

## 4 导入Facerig后不显示模型怎么办？

首先确认是否安装最新版本的Live2D插件，然后模型的moc文件是否在这样结构的目录下：C:\Program Files (x86)\Steam\steamapps\common\FaceRig\Mod\VP\PC_CustomData\Objects\<模型名>\<模型名>.moc3  如果找不到PC_CustomData这个目录，那你还未安装Live2D插件，请自行寻找教程购买安装。

Steam社区指出，该插件最高支持3.0版本的SDK，因此3.3版本导出的模型文件无法读取（详见[这里](https://steamcommunity.com/app/274920/discussions/0/1741105805755672278/#c1741105805757116837)）

那么，只需要在导出为moc3菜单中选择3.0版本即可，如图所示：

{% asset_img img 2.png 选择版本 %}